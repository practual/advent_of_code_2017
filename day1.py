#! /usr/bin/env python

# http://adventofcode.com/2017/day/1

CAPTCHA = ("329419947132719599482483219756485987668263818888976829889424383266565468141288686223452"
           "599155327657864126558995917841421838932936149667399161467362634455217941399556226681813"
           "837239321396614312491446939769258725111266321786287923322676353391112889335453635321384"
           "712225146385789415981982872482796957643219184778777273288126687546972118933188222814657"
           "683292131463822131739325647199859811728963268466335527384598393384572171349781176699536"
           "779585796522218366876551745426335411113484133463134511159613168272619657476316518788933"
           "759958334563441343616553974418886615677158564771855518252993666968358166239861876539148"
           "716471572484989456331442695934811928695514443945273176266656874161215325446913172413769"
           "983298472893786595671192559262845661713369525955454871932822993862133232512597254718123"
           "681226388737586623111831295436943293735935726646738331832623957287731476512184483112617"
           "817398879976521891317882596626881647655979294735995685998922891713626717857177631634529"
           "257348987379214964654874799538966969218845772441446872719281991944827592216632115814136"
           "523754522263368837289145184243445852769877434211148249899938383149257761515459127871965"
           "679827737736328437946875799837319323179576764465415543269298865131284543351187945792163"
           "893487755757524139436372166723777896245596149355984852258241374821897121248637323279587"
           "836296487385599469714969282491718337554519211945358739819991256447461421992934518546866"
           "112996637969381349854247473219817649669474611157692571549396729648725823785415238236557"
           "987689439181575981537331915921347555525148875427988824549237359547118919135324468469766"
           "284837652988151252922162731352744122145967278692314516598961122337224114992943624737481"
           "846748164193187297258229542593699853519442391654436779952227691444523158227236838883183"
           "443756275211932528647435286355469337371884864956845179775192631561757529538196442684362"
           "528281952474711972687219356978561195989677614353991529996827637471299648536785349473437"
           "625751127344373643346449628721961569734197313171516676891614982839645463859671357296368"
           "6159214116763")


def captcha_output_part_1(captcha):
    partial_sum = 0
    for i in range(len(captcha)):
        next_i = (i + 1) % len(captcha)
        if captcha[i] == captcha[next_i]:
            partial_sum += int(captcha[i])
    return partial_sum


def captcha_output_part_2(captcha):
    if len(captcha) % 2:
        raise Exception('Captcha has an odd number of digits - cannot compute output.')
    step = int(len(captcha) / 2)
    partial_sum = 0
    for i in range(len(captcha)):
        next_i = (i + step) % len(captcha)
        if captcha[i] == captcha[next_i]:
            partial_sum += int(captcha[i])
    return partial_sum


if __name__ == '__main__':
    print(captcha_output_part_1(CAPTCHA))
    print(captcha_output_part_2(CAPTCHA))
